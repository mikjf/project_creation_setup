{
 "cells": [
  {
   "cell_type": "markdown",
   "id": "c648a9d0-d701-4ce2-82a5-c2ddf5bb7736",
   "metadata": {},
   "source": [
    "# How to create a new project"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "1d6302b6-817d-4e83-8528-9e2fb7b0de13",
   "metadata": {},
   "source": [
    "## 1. Define repository structure"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "5c9cefdb-c90e-4993-b8f1-1cf2d9840753",
   "metadata": {},
   "source": [
    "The first thing to do is to create the folder for your new project on your local device."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "45efb9fc-5141-4ccb-b9d1-3454b6956394",
   "metadata": {},
   "source": [
    "### 1.1 Short projects"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "6b7a50c8-8563-4981-bdb5-3d6b0b991921",
   "metadata": {},
   "source": [
    "The structure of a simple data science reposity for small projects could be the following:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "15aa449f-1690-4963-8f06-f211dbcef017",
   "metadata": {},
   "outputs": [],
   "source": [
    "├── data\n",
    "│   ├── processed # > data preprocessed/cleaned/results\n",
    "│   └── raw # > immutable raw data in its original form\n",
    "├── .gitignore # > file which specifies which folder should not be tracked by git\n",
    "├── notebooks\n",
    "│   └── template_notebook.ipynb # > example notebook.ipynb\n",
    "├── README.md # > the entry point for your project, explaining goals, etc\n",
    "├── reports # > structured reports in markdown format or presentations\n",
    "│   ├── img # > all images used for reports should be stored here\n",
    "│   │   └── pic01.jpg\n",
    "│   └── template_report.md\n",
    "└── src # > folder for python scripts and modules\n",
    "    └── template_module.py # > example python code with properly formatted documentation"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "49be6831-484c-4488-9c86-c406fae2eb23",
   "metadata": {},
   "source": [
    "You can get the folder .zip version [here](https://github.com/mikjf/project_creation_setup/tree/main/template_project_download)."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "43eb76f9-a555-4b19-b555-d718a4fb95c3",
   "metadata": {},
   "source": [
    "### 1.2 Longer projects"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "b0027129-9f1e-4a31-865a-836eab799c0e",
   "metadata": {},
   "source": [
    "For more longer/complex project you could leverage a cool command-line utility that creates a Python package project form a Python package project template called [cookiecutter](https://anaconda.org/conda-forge/cookiecutter)."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "ed121391-fcbe-4809-bc9a-450f3b5a85e5",
   "metadata": {},
   "outputs": [],
   "source": [
    "# use this command to install cookiecutter if you are using anaconda\n",
    "conda install -c conda-forge cookiecutter"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "38236245-ab1b-42bc-8643-0266d76e8d14",
   "metadata": {},
   "source": [
    "## 2. Create project on GitHub"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "221dd50f-d864-4338-aa52-b81a7e0b5750",
   "metadata": {},
   "source": [
    "Simply head to your repositories section on GitHub and click on the green button \"new\" to define the repository name and public/private permissions. The folder in section 1.1 already contains the README.md file. Once the project has been created, you will land on the quick setup page."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "08221431-0afa-448c-8103-6c62b39dc0f7",
   "metadata": {},
   "source": [
    "### 2.1 Push local git repository onto the GitHub project"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "8c9a61b7-16ca-4c70-8353-f10200476c08",
   "metadata": {},
   "source": [
    "While in the local project working directory in the terminal:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "4f38789d-dc1f-4111-a8f1-da3fdf26f6df",
   "metadata": {},
   "outputs": [],
   "source": [
    "# initialize local directory as git repository\n",
    "git init"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "043c1c5b-d6a0-4ea4-a645-d2bf7495da9d",
   "metadata": {},
   "outputs": [],
   "source": [
    "# add the files in the local repository and stages them for commit\n",
    "git add ."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "27a3ff27-1cc3-48b0-9875-ad1c9ac9c7d6",
   "metadata": {},
   "outputs": [],
   "source": [
    "# commit tracked changes to prepare push\n",
    "git commit -m 'project initialized'"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "fdec912d-8729-41ca-81ed-2f7b1602876e",
   "metadata": {},
   "outputs": [],
   "source": [
    "# set new remote\n",
    "git remote add origin <SSH_paste>"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "b8d1fd69-b58e-41ad-bb6e-cda47731c1af",
   "metadata": {},
   "outputs": [],
   "source": [
    "# verify new remote URL\n",
    "git remote -v"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "72fe6dc0-067c-49b0-9fd0-47c013c56284",
   "metadata": {},
   "outputs": [],
   "source": [
    "# push changes in local repository up to specified remote repository (GitHub)\n",
    "git push -u origin main"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "a87fd297-36c5-4118-b705-9a0040d928d7",
   "metadata": {},
   "source": [
    "## 3. Conda environment"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "a290647b-0eae-4713-8e85-e3b624745769",
   "metadata": {},
   "source": [
    "It is good practice to create a dedicated conda environment for each project."
   ]
  },
  {
   "cell_type": "markdown",
   "id": "53f65213-ae28-4d60-a3de-beb548e9ed69",
   "metadata": {},
   "source": [
    "### 3.1 Conda environment setup"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "b0ab2cc9-f9cc-45a5-b949-c6a1bfb84f3e",
   "metadata": {},
   "source": [
    "From the terminal (conda-terminal):"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "130c4f16-f345-4755-a09f-9107b127e011",
   "metadata": {},
   "outputs": [],
   "source": [
    "# create new conda environment\n",
    "conda create --name project_name python"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "af6a0583-fc1a-4d0d-b4f7-e1299c79b32b",
   "metadata": {},
   "outputs": [],
   "source": [
    "# activate created environment\n",
    "conda activate project_name"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "b0ea9861-97d0-4b56-a5b5-2482d66b11ce",
   "metadata": {},
   "outputs": [],
   "source": [
    "# add conta environment to the jupyter kernel\n",
    "conda install -c anaconnda ipykernel\n",
    "python -m ipykernetl install --user --name=project_name"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "0bb7c5e8-0a65-458f-8bea-fed249458fe2",
   "metadata": {},
   "source": [
    "### 3.2 Conda environment export"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "9579e695-b2ab-4e6a-bb28-dfb30479b2c7",
   "metadata": {},
   "source": [
    "Adding the environment specification to a file within your project folder makes it easier to replicate the project and run it properly for other users."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "125aab51-92d2-49fa-85ba-87663388b19f",
   "metadata": {},
   "outputs": [],
   "source": [
    "# conda export to yaml specification file\n",
    "conda env export > environment.yml"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "5b9f20ea-aa6a-4485-a188-bf93f2aeec0e",
   "metadata": {},
   "source": [
    "### 3.3 Create environment from .yml file"
   ]
  },
  {
   "cell_type": "markdown",
   "id": "e3f5185e-1014-4190-899e-135c0bd51dee",
   "metadata": {},
   "source": [
    "New conda environment from an environment file:"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "fce832a9-5cb7-4ca7-9844-fe3ba05351ce",
   "metadata": {},
   "outputs": [],
   "source": [
    "# conda environment from existing yml\n",
    "conda env create -f environment.yml"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "aa8d458b-00a6-4191-bd35-955298a3ecfa",
   "metadata": {},
   "outputs": [],
   "source": [
    "# update active environment with an existing environment file\n",
    "conda env update --prefix ./env --file environment.yml --prune"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "projects",
   "language": "python",
   "name": "projects"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.10.9"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
